{"version":3,"sources":["../../../src/mixins/routable/index.ts"],"names":["Vue","Ripple","getObjectValueByPath","extend","name","directives","props","activeClass","String","append","Boolean","disabled","exact","type","default","undefined","exactActiveClass","link","href","Object","to","nuxt","replace","ripple","tag","target","data","isActive","proxyClass","computed","classes","computedRipple","isClickable","isLink","$listeners","click","$attrs","tabindex","styles","watch","$route","methods","e","$emit","generateRouteLink","attrs","class","style","value","ref","path","trim","assign","onRouteChange","$refs","$nextTick","toggle"],"mappings":"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","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\nimport Vue, { VNodeData, PropType } from 'vue'\n\n// Directives\nimport Ripple, { RippleOptions } from '../../directives/ripple'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\n\nexport default Vue.extend({\n  name: 'routable',\n\n  directives: {\n    Ripple,\n  },\n\n  props: {\n    activeClass: String,\n    append: Boolean,\n    disabled: Boolean,\n    exact: {\n      type: Boolean as PropType<boolean | undefined>,\n      default: undefined,\n    },\n    exactActiveClass: String,\n    link: Boolean,\n    href: [String, Object],\n    to: [String, Object],\n    nuxt: Boolean,\n    replace: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: null,\n    },\n    tag: String,\n    target: String,\n  },\n\n  data: () => ({\n    isActive: false,\n    proxyClass: '',\n  }),\n\n  computed: {\n    classes (): object {\n      const classes: Record<string, boolean> = {}\n\n      if (this.to) return classes\n\n      if (this.activeClass) classes[this.activeClass] = this.isActive\n      if (this.proxyClass) classes[this.proxyClass] = this.isActive\n\n      return classes\n    },\n    computedRipple (): RippleOptions | boolean {\n      return this.ripple ?? (!this.disabled && this.isClickable)\n    },\n    isClickable (): boolean {\n      if (this.disabled) return false\n\n      return Boolean(\n        this.isLink ||\n        this.$listeners.click ||\n        this.$listeners['!click'] ||\n        this.$attrs.tabindex\n      )\n    },\n    isLink (): boolean {\n      return this.to || this.href || this.link\n    },\n    styles: () => ({}),\n  },\n\n  watch: {\n    $route: 'onRouteChange',\n  },\n\n  methods: {\n    click (e: MouseEvent): void {\n      this.$emit('click', e)\n    },\n    generateRouteLink () {\n      let exact = this.exact\n      let tag\n\n      const data: VNodeData = {\n        attrs: {\n          tabindex: 'tabindex' in this.$attrs ? this.$attrs.tabindex : undefined,\n        },\n        class: this.classes,\n        style: this.styles,\n        props: {},\n        directives: [{\n          name: 'ripple',\n          value: this.computedRipple,\n        }],\n        [this.to ? 'nativeOn' : 'on']: {\n          ...this.$listeners,\n          click: this.click,\n        },\n        ref: 'link',\n      }\n\n      if (typeof this.exact === 'undefined') {\n        exact = this.to === '/' ||\n          (this.to === Object(this.to) && this.to.path === '/')\n      }\n\n      if (this.to) {\n        // Add a special activeClass hook\n        // for component level styles\n        let activeClass = this.activeClass\n        let exactActiveClass = this.exactActiveClass || activeClass\n\n        if (this.proxyClass) {\n          activeClass = `${activeClass} ${this.proxyClass}`.trim()\n          exactActiveClass = `${exactActiveClass} ${this.proxyClass}`.trim()\n        }\n\n        tag = this.nuxt ? 'nuxt-link' : 'router-link'\n        Object.assign(data.props, {\n          to: this.to,\n          exact,\n          activeClass,\n          exactActiveClass,\n          append: this.append,\n          replace: this.replace,\n        })\n      } else {\n        tag = (this.href && 'a') || this.tag || 'div'\n\n        if (tag === 'a' && this.href) data.attrs!.href = this.href\n      }\n\n      if (this.target) data.attrs!.target = this.target\n\n      return { tag, data }\n    },\n    onRouteChange () {\n      if (!this.to || !this.$refs.link || !this.$route) return\n      const activeClass = `${this.activeClass} ${this.proxyClass || ''}`.trim()\n\n      const path = `_vnode.data.class.${activeClass}`\n\n      this.$nextTick(() => {\n        /* istanbul ignore else */\n        if (getObjectValueByPath(this.$refs.link, path)) {\n          this.toggle()\n        }\n      })\n    },\n    toggle: () => { /* noop */ },\n  },\n})\n"],"file":"index.mjs"}