{"version":3,"sources":["../../../src/components/transitions/dialog-transition.tsx"],"names":["Transition","acceleratedEasing","deceleratedEasing","defineComponent","name","props","target","Object","setup","slots","functions","onEnter","el","done","x","y","getDimensions","animation","animate","transform","opacity","duration","easing","finished","then","onLeave","initialDisplay","style","display","initialTransform","transition","targetBox","getBoundingClientRect","elBox","width","left","height","top"],"mappings":"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","sourcesContent":["import type { PropType } from 'vue'\nimport { Transition } from 'vue'\nimport { acceleratedEasing, deceleratedEasing, defineComponent } from '@/util'\n\nexport default defineComponent({\n  name: 'VDialogTransition',\n\n  props: {\n    target: Object as PropType<HTMLElement>,\n  },\n\n  setup (props, { slots }) {\n    const functions = {\n      onEnter (el: Element, done: () => void) {\n        const { x, y } = getDimensions(props.target!, el as HTMLElement)\n\n        const animation = el.animate([\n          { transform: `translate(${x}px, ${y}px) scale(0.1)`, opacity: 0 },\n          { transform: '' },\n        ], {\n          duration: 225,\n          easing: deceleratedEasing,\n        })\n        animation.finished.then(() => done())\n      },\n      onLeave (el: Element, done: () => void) {\n        const { x, y } = getDimensions(props.target!, el as HTMLElement)\n\n        const animation = el.animate([\n          { transform: '' },\n          { transform: `translate(${x}px, ${y}px) scale(0.1)`, opacity: 0 },\n        ], {\n          duration: 125,\n          easing: acceleratedEasing,\n        })\n        animation.finished.then(() => done())\n      },\n    }\n\n    return () => {\n      return props.target\n        ? <Transition name=\"dialog-transition\" { ...functions } css={ false } v-slots={ slots } />\n        : <Transition name=\"dialog-transition\" v-slots={ slots } />\n    }\n  },\n})\n\nfunction getDimensions (target: HTMLElement, el: HTMLElement) {\n  const initialDisplay = el.style.display\n  const initialTransform = el.style.transform\n\n  el.style.transition = 'none'\n  el.style.display = ''\n  el.style.transform = 'none'\n\n  const targetBox = target.getBoundingClientRect()\n  const elBox = el.getBoundingClientRect()\n  const x = (targetBox.width / 2 + targetBox.left) - (elBox.width / 2 + elBox.left)\n  const y = (targetBox.height / 2 + targetBox.top) - (elBox.height / 2 + elBox.top)\n  el.style.display = initialDisplay\n  el.style.transform = initialTransform\n\n  return { x, y }\n}\n"],"file":"dialog-transition.mjs"}