{"version":3,"sources":["../../../src/directives/resize/index.ts"],"names":["mounted","el","binding","handler","value","options","passive","modifiers","active","window","addEventListener","_onResize","quiet","unmounted","removeEventListener","Resize"],"mappings":"AAUA,SAASA,OAAT,CAAkBC,EAAlB,EAAmCC,OAAnC,EAAoE;AAAA;;AAClE,QAAMC,OAAO,GAAGD,OAAO,CAACE,KAAxB;AACA,QAAMC,OAAgC,GAAG;AACvCC,IAAAA,OAAO,EAAE,wBAACJ,OAAO,CAACK,SAAT,aAAC,mBAAmBC,MAApB;AAD8B,GAAzC;AAIAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCP,OAAlC,EAA2CE,OAA3C;AACAJ,EAAAA,EAAE,CAACU,SAAH,GAAe;AACbR,IAAAA,OADa;AAEbE,IAAAA;AAFa,GAAf;;AAKA,MAAI,yBAACH,OAAO,CAACK,SAAT,aAAC,oBAAmBK,KAApB,CAAJ,EAA+B;AAC7BT,IAAAA,OAAO;AACR;AACF;;AAED,SAASU,SAAT,CAAoBZ,EAApB,EAAqC;AACnC,MAAI,CAACA,EAAE,CAACU,SAAR,EAAmB;AAEnB,QAAM;AAAER,IAAAA,OAAF;AAAWE,IAAAA;AAAX,MAAuBJ,EAAE,CAACU,SAAhC;AACAF,EAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,EAAqCX,OAArC,EAA8CE,OAA9C;AACA,SAAOJ,EAAE,CAACU,SAAV;AACD;;AAED,OAAO,MAAMI,MAAM,GAAG;AACpBf,EAAAA,OADoB;AAEpBa,EAAAA;AAFoB,CAAf;AAKP,eAAeE,MAAf","sourcesContent":["import type { DirectiveBinding } from 'vue'\n\ninterface ResizeDirectiveBinding extends Omit<DirectiveBinding, 'modifiers'> {\n  value: () => void\n  modifiers?: {\n    active?: boolean\n    quiet?: boolean\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: ResizeDirectiveBinding) {\n  const handler = binding.value\n  const options: AddEventListenerOptions = {\n    passive: !binding.modifiers?.active,\n  }\n\n  window.addEventListener('resize', handler, options)\n  el._onResize = {\n    handler,\n    options,\n  }\n\n  if (!binding.modifiers?.quiet) {\n    handler()\n  }\n}\n\nfunction unmounted (el: HTMLElement) {\n  if (!el._onResize) return\n\n  const { handler, options } = el._onResize\n  window.removeEventListener('resize', handler, options)\n  delete el._onResize\n}\n\nexport const Resize = {\n  mounted,\n  unmounted,\n}\n\nexport default Resize\n"],"file":"index.mjs"}