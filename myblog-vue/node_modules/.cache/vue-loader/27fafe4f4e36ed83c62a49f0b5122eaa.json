{"remainingRequest":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-2!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\views\\Login.vue?vue&type=style&index=0&id=5f84fc53&scoped=true&lang=css","dependencies":[{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\views\\Login.vue","mtime":1626354324673},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1624994109000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.vue.auto-import-quasar.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLmxvZ2luLWNvbnRlbnR7DQogICAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIG1heC13aWR0aDogOTAlOw0KICAgIH0NCiAgICAubG9naW4taGVhZGVyew0KICAgICAgICBib3gtc2hhZG93OiAwIDJweCAxMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICBmb250LXNpemU6IDIwcHg7DQogICAgfQ0K"},{"version":3,"sources":["D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\views\\Login.vue"],"names":[],"mappings":";IA0HI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB","file":"D:/IdeaWorkSpace/springBootDemo2/myblog-vue2/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div>\r\n\r\n            <a-layout>\r\n                <div class=\"login-header\">\r\n                <a-layout-header style=\"background: white\"><img :src=\"require('@/assets/login.png')\"/>myblog</a-layout-header>\r\n                </div>\r\n                <a-layout-content style=\"padding: 0px 50px;margin-top: 10px;min-height: 600px\">\r\n                    <div :style=\"{ background: '#fff', padding: '140px', minHeight: '400px' }\">\r\n                        <div style=\"margin: 0 auto;max-width: 400px;background: white\">\r\n                            <a-form :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\r\n                                <a-form-item label=\"用户名\" v-bind=\"validateInfos.username\">\r\n                                    <a-input\r\n                                            v-model:value=\"modelRef.username\"\r\n                                            @blur=\"validate('username', { trigger: 'blur' }).catch(() => {})\"\r\n                                    />\r\n                                </a-form-item>\r\n                                <a-form-item label=\"密码\" v-bind=\"validateInfos.password\">\r\n                                    <a-input-password\r\n                                            v-model:value=\"modelRef.password\" type=\"password\" placeholder=\"请输入密码\"\r\n                                            @blur=\"validate('password', { trigger: 'blur' }).catch(() => {})\"\r\n                                    />\r\n\r\n                                </a-form-item>\r\n                                <a-form-item :wrapper-col=\"{ span: 14, offset: 4 }\">\r\n                                    <a-button type=\"primary\" @click.prevent=\"onSubmit\">登录</a-button>\r\n                                    <a-button style=\"margin-left: 10px\" @click=\"resetFields\">重置</a-button>\r\n                                </a-form-item>\r\n                            </a-form>\r\n                        </div>\r\n                    </div>\r\n                </a-layout-content>\r\n            </a-layout>\r\n\r\n        </div>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    import { defineComponent, reactive, toRaw, getCurrentInstance, onMounted} from 'vue';\r\n    import { Form } from 'ant-design-vue';\r\n    import {message} from 'ant-design-vue'\r\n    const useForm = Form.useForm;\r\n    export default defineComponent({\r\n        name: \"Login\",\r\n        setup(){\r\n            const {ctx, proxy} = getCurrentInstance();\r\n            const modelRef = reactive({\r\n                username: '',\r\n                password: '',\r\n            });\r\n            const rulesRef = reactive({\r\n                username: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入用户名',\r\n                    },\r\n                    {\r\n                        min: 1,\r\n                        max: 10,\r\n                        message: '用户名长度为1到10个字符',\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n                password: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入密码',\r\n                    },\r\n                    {\r\n                        min: 5,\r\n                        max: 16,\r\n                        message: '密码长度为6-16的字符串',\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n            });\r\n            const { resetFields, validate, validateInfos } = useForm(modelRef, rulesRef);\r\n            const onSubmit = () => {\r\n                validate()\r\n                    .then(() => {\r\n                        console.log(toRaw(modelRef));\r\n                        const user = toRaw(modelRef)\r\n                        console.log(user.name)\r\n                        // console.log(axios.defaults.baseURL)\r\n                        proxy.$axios.post('/login', user).then(res => {\r\n                            const user = res.data.data;\r\n                            proxy.$store.commit('set_userinfo', user)\r\n                            proxy.$store.commit('set_token', res.headers['authorization'])\r\n                            // console.log(proxy.$store.getters.getUser)\r\n                            proxy.$router.go(-1)\r\n                        }).catch(error => {\r\n                            message.error(error.message, 2)\r\n                        })\r\n                    })\r\n\r\n                    .catch(err => {\r\n                        console.log('error', err);\r\n                    });\r\n            };\r\n            document.onkeydown = function (e) {\r\n                var keycode = window.event.keyCode;\r\n                if(keycode === 13){\r\n                    onSubmit()\r\n                }\r\n            }\r\n            return {\r\n                labelCol: { span: 4 },\r\n                wrapperCol: { span: 14 },\r\n                validate,\r\n                validateInfos,\r\n                resetFields,\r\n                modelRef,\r\n                onSubmit,\r\n            };\r\n        }\r\n    })\r\n</script>\r\n\r\n<style scoped>\r\n    .login-content{\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        max-width: 90%;\r\n    }\r\n    .login-header{\r\n        box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n        font-size: 20px;\r\n    }\r\n</style>"]}]}