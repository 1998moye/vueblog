{"remainingRequest":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vuetify\\lib\\composables\\intersectionObserver.mjs","dependencies":[{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vuetify\\lib\\composables\\intersectionObserver.mjs","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7Ci8vIFV0aWxpdGllcwppbXBvcnQgeyBvbkJlZm9yZVVubW91bnQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwpleHBvcnQgZnVuY3Rpb24gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spIHsKICB2YXIgaW50ZXJzZWN0aW9uUmVmID0gcmVmKCk7CiAgdmFyIGlzSW50ZXJzZWN0aW5nID0gcmVmKGZhbHNlKTsKICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHsKICAgIGNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBjYWxsYmFjayhlbnRyaWVzLCBvYnNlcnZlcik7CiAgICBpc0ludGVyc2VjdGluZy52YWx1ZSA9ICEhZW50cmllcy5maW5kKGZ1bmN0aW9uIChlbnRyeSkgewogICAgICByZXR1cm4gZW50cnkuaXNJbnRlcnNlY3Rpbmc7CiAgICB9KTsKICB9KTsKICBvbkJlZm9yZVVubW91bnQoZnVuY3Rpb24gKCkgewogICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogIH0pOwogIHdhdGNoKGludGVyc2VjdGlvblJlZiwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgaWYgKG9sZFZhbHVlKSB7CiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShvbGRWYWx1ZSk7CiAgICAgIGlzSW50ZXJzZWN0aW5nLnZhbHVlID0gZmFsc2U7CiAgICB9CgogICAgaWYgKG5ld1ZhbHVlKSBvYnNlcnZlci5vYnNlcnZlKG5ld1ZhbHVlKTsKICB9LCB7CiAgICBmbHVzaDogJ3Bvc3QnCiAgfSk7CiAgcmV0dXJuIHsKICAgIGludGVyc2VjdGlvblJlZjogaW50ZXJzZWN0aW9uUmVmLAogICAgaXNJbnRlcnNlY3Rpbmc6IGlzSW50ZXJzZWN0aW5nCiAgfTsKfQ=="},{"version":3,"sources":["../../src/composables/intersectionObserver.ts"],"names":["intersectionRef","ref","isIntersecting","observer","entries","callback","entry","onBeforeUnmount","watch","flush"],"mappings":";AAAA;AACA,SAAA,eAAA,EAAA,GAAA,EAAA,KAAA,QAAA,KAAA;AAEA,OAAO,SAAA,uBAAA,CAAA,QAAA,EAA2E;AAChF,MAAMA,eAAe,GAAGC,GAAxB,EAAA;AACA,MAAMC,cAAc,GAAGD,GAAG,CAA1B,KAA0B,CAA1B;AAEA,MAAME,QAAQ,GAAG,IAAA,oBAAA,CAA0BC,UAAAA,OAAD,EAA0C;AAClFC,IAAAA,QAAQ,IAARA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,QAAQ,CAAA,OAAA,EAARA,QAAQ,CAARA;AAEAH,IAAAA,cAAc,CAAdA,KAAAA,GAAuB,CAAC,CAACE,OAAO,CAAPA,IAAAA,CAAaE,UAAAA,KAAK;AAAA,aAAIA,KAAK,CAApDJ,cAA2C;AAAA,KAAlBE,CAAzBF;AAHF,GAAiB,CAAjB;AAMAK,EAAAA,eAAe,CAAC,YAAM;AACpBJ,IAAAA,QAAQ,CAARA,UAAAA;AADFI,GAAe,CAAfA;AAIAC,EAAAA,KAAK,CAAA,eAAA,EAAkB,UAAA,QAAA,EAAA,QAAA,EAAwB;AAC7C,QAAA,QAAA,EAAc;AACZL,MAAAA,QAAQ,CAARA,SAAAA,CAAAA,QAAAA;AACAD,MAAAA,cAAc,CAAdA,KAAAA,GAAAA,KAAAA;AACD;;AAED,QAAA,QAAA,EAAcC,QAAQ,CAARA,OAAAA,CAAAA,QAAAA;AANX,GAAA,EAOF;AACDM,IAAAA,KAAK,EAAE;AADN,GAPE,CAALD;AAWA,SAAO;AAAER,IAAAA,eAAF,EAAEA,eAAF;AAAmBE,IAAAA,cAAAA,EAAAA;AAAnB,GAAP;AACD","sourcesContent":["// Utilities\nimport { onBeforeUnmount, ref, watch } from 'vue'\n\nexport function useIntersectionObserver (callback?: IntersectionObserverCallback) {\n  const intersectionRef = ref<HTMLElement>()\n  const isIntersecting = ref(false)\n\n  const observer = new IntersectionObserver((entries: IntersectionObserverEntry[]) => {\n    callback?.(entries, observer)\n\n    isIntersecting.value = !!entries.find(entry => entry.isIntersecting)\n  })\n\n  onBeforeUnmount(() => {\n    observer.disconnect()\n  })\n\n  watch(intersectionRef, (newValue, oldValue) => {\n    if (oldValue) {\n      observer.unobserve(oldValue)\n      isIntersecting.value = false\n    }\n\n    if (newValue) observer.observe(newValue)\n  }, {\n    flush: 'post',\n  })\n\n  return { intersectionRef, isIntersecting }\n}\n"]}]}