{"remainingRequest":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\permission.js","dependencies":[{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\permission.js","mtime":1626359986956},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi9yb3V0ZXIiOwppbXBvcnQgeyBNb2RhbCB9IGZyb20gImFudC1kZXNpZ24tdnVlIjsKdmFyIGZsYWcgPSBmYWxzZTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZUF1dGg7CiAgfSkpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwoKICAgIGlmICh0b2tlbikgewogICAgICBmbGFnID0gdHJ1ZTsKICAgICAgbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGFsZXJ0KCfpgIDlh7onKTsKCiAgICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicpIHsKICAgICAgbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICBNb2RhbC5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiAn6K+35p+l55yL5L2g5piv5ZCm5L+d5a2Y5YaF5a65JywKICAgICAgICAgIGNvbnRlbnQ6ICfkvaDnoa7lrpropoHot7PovazliLDlhbblroPnvZHpobXvvJ8nLAogICAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KE1hdGgucmFuZG9tKCkgPiAwLjUgPyByZXNvbHZlIDogcmVqZWN0LCAyMDApOwogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnT29wcyBlcnJvcnMhJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24KICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiBvbkNhbmNlbCgpIHsKICAgICAgICAgICAgbmV4dChmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCgpOwogICAgICB9CiAgICB9CiAgfQoKICBpZiAodG8ubWV0YS50aXRsZSkgewogICAgZG9jdW1lbnQudGl0bGUgPSAn5Liq5Lq65Y2a5a6iLScgKyB0by5tZXRhLnRpdGxlOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC50aXRsZSA9ICfkuKrkurrljZrlrqInOwogIH0KfSk7"},{"version":3,"sources":["D:/IdeaWorkSpace/springBootDemo2/myblog-vue2/src/permission.js"],"names":["router","Modal","flag","beforeEach","to","from","next","matched","some","record","meta","requireAuth","token","localStorage","getItem","path","alert","confirm","title","content","onOk","Promise","resolve","reject","setTimeout","Math","random","catch","console","log","onCancel","document"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,IAAIC,IAAI,GAAG,KAAX;AACAF,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,WAAhB;AAAA,GAAtB,CAAH,EAAsD;AAClD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAGF,KAAH,EAAS;AACLV,MAAAA,IAAI,GAAG,IAAP;AACAI,MAAAA,IAAI;AACP,KAHD,MAGK;AACDA,MAAAA,IAAI,CAAC;AACDS,QAAAA,IAAI,EAAE;AADL,OAAD,CAAJ;AAGH;AACJ,GAVD,MAUK;AACDC,IAAAA,KAAK,CAAC,IAAD,CAAL;;AACA,QAAGZ,EAAE,CAACW,IAAH,KAAY,QAAf,EAAwB;AACpBT,MAAAA,IAAI;AACP,KAFD,MAEM;AACF,UAAIJ,IAAJ,EAAU;AACND,QAAAA,KAAK,CAACgB,OAAN,CAAc;AACVC,UAAAA,KAAK,EAAE,YADG;AAEVC,UAAAA,OAAO,EAAE,cAFC;AAGVC,UAAAA,IAHU,kBAGH;AACH,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,cAAAA,UAAU,CAACC,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsBJ,OAAtB,GAAgCC,MAAjC,EAAyC,GAAzC,CAAV;AACAjB,cAAAA,IAAI;AACP,aAHM,EAGJqB,KAHI,CAGE;AAAA,qBAAMC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAAN;AAAA,aAHF,CAAP;AAIH,WARS;AAUV;AACAC,UAAAA,QAXU,sBAWC;AACPxB,YAAAA,IAAI,CAAC,KAAD,CAAJ;AACH;AAbS,SAAd;AAeH,OAhBD,MAgBK;AACDA,QAAAA,IAAI;AACP;AACJ;AACJ;;AAED,MAAGF,EAAE,CAACM,IAAH,CAAQQ,KAAX,EAAiB;AACba,IAAAA,QAAQ,CAACb,KAAT,GAAiB,UAAUd,EAAE,CAACM,IAAH,CAAQQ,KAAnC;AACH,GAFD,MAEK;AACDa,IAAAA,QAAQ,CAACb,KAAT,GAAiB,MAAjB;AACH;AACJ,CA3CD","sourcesContent":["import router from \"./router\";\r\nimport {Modal} from \"ant-design-vue\";\r\nvar flag = false;\r\nrouter.beforeEach((to, from, next) => {\r\n    if(to.matched.some(record => record.meta.requireAuth)){\r\n        const token = localStorage.getItem(\"token\");\r\n        if(token){\r\n            flag = true\r\n            next()\r\n        }else{\r\n            next({\r\n                path: '/login'\r\n            })\r\n        }\r\n    }else{\r\n        alert('退出')\r\n        if(to.path === '/login'){\r\n            next()\r\n        }else {\r\n            if (flag) {\r\n                Modal.confirm({\r\n                    title: '请查看你是否保存内容',\r\n                    content: '你确定要跳转到其它网页？',\r\n                    onOk() {\r\n                        return new Promise((resolve, reject) => {\r\n                            setTimeout(Math.random() > 0.5 ? resolve : reject, 200);\r\n                            next()\r\n                        }).catch(() => console.log('Oops errors!'));\r\n                    },\r\n\r\n                    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n                    onCancel() {\r\n                        next(false)\r\n                    },\r\n                });\r\n            }else{\r\n                next()\r\n            }\r\n        }\r\n    }\r\n\r\n    if(to.meta.title){\r\n        document.title = '个人博客-' + to.meta.title\r\n    }else{\r\n        document.title = '个人博客'\r\n    }\r\n})"]}]}