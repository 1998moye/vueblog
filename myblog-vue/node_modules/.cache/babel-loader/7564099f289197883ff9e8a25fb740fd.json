{"remainingRequest":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.vue.auto-import-quasar.js?kebab!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-1!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-2!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\views\\Login.vue","mtime":1626354324673},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.vue.auto-import-quasar.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIHRvUmF3LCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IEZvcm0gfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7CmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7CnZhciB1c2VGb3JtID0gRm9ybS51c2VGb3JtOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJMb2dpbiIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF9nZXRDdXJyZW50SW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSwKICAgICAgICBjdHggPSBfZ2V0Q3VycmVudEluc3RhbmNlLmN0eCwKICAgICAgICBwcm94eSA9IF9nZXRDdXJyZW50SW5zdGFuY2UucHJveHk7CgogICAgdmFyIG1vZGVsUmVmID0gcmVhY3RpdmUoewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJwogICAgfSk7CiAgICB2YXIgcnVsZXNSZWYgPSByZWFjdGl2ZSh7CiAgICAgIHVzZXJuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nCiAgICAgIH0sIHsKICAgICAgICBtaW46IDEsCiAgICAgICAgbWF4OiAxMCwKICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN6ZW/5bqm5Li6MeWIsDEw5Liq5a2X56ymJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnCiAgICAgIH0sIHsKICAgICAgICBtaW46IDUsCiAgICAgICAgbWF4OiAxNiwKICAgICAgICBtZXNzYWdlOiAn5a+G56CB6ZW/5bqm5Li6Ni0xNueahOWtl+espuS4sicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dCiAgICB9KTsKCiAgICB2YXIgX3VzZUZvcm0gPSB1c2VGb3JtKG1vZGVsUmVmLCBydWxlc1JlZiksCiAgICAgICAgcmVzZXRGaWVsZHMgPSBfdXNlRm9ybS5yZXNldEZpZWxkcywKICAgICAgICB2YWxpZGF0ZSA9IF91c2VGb3JtLnZhbGlkYXRlLAogICAgICAgIHZhbGlkYXRlSW5mb3MgPSBfdXNlRm9ybS52YWxpZGF0ZUluZm9zOwoKICAgIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKHRvUmF3KG1vZGVsUmVmKSk7CiAgICAgICAgdmFyIHVzZXIgPSB0b1Jhdyhtb2RlbFJlZik7CiAgICAgICAgY29uc29sZS5sb2codXNlci5uYW1lKTsgLy8gY29uc29sZS5sb2coYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCkKCiAgICAgICAgcHJveHkuJGF4aW9zLnBvc3QoJy9sb2dpbicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIHVzZXIgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgcHJveHkuJHN0b3JlLmNvbW1pdCgnc2V0X3VzZXJpbmZvJywgdXNlcik7CiAgICAgICAgICBwcm94eS4kc3RvcmUuY29tbWl0KCdzZXRfdG9rZW4nLCByZXMuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddKTsgLy8gY29uc29sZS5sb2cocHJveHkuJHN0b3JlLmdldHRlcnMuZ2V0VXNlcikKCiAgICAgICAgICBwcm94eS4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSwgMik7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnIpOwogICAgICB9KTsKICAgIH07CgogICAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIGtleWNvZGUgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKCiAgICAgIGlmIChrZXljb2RlID09PSAxMykgewogICAgICAgIG9uU3VibWl0KCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICBzcGFuOiA0CiAgICAgIH0sCiAgICAgIHdyYXBwZXJDb2w6IHsKICAgICAgICBzcGFuOiAxNAogICAgICB9LAogICAgICB2YWxpZGF0ZTogdmFsaWRhdGUsCiAgICAgIHZhbGlkYXRlSW5mb3M6IHZhbGlkYXRlSW5mb3MsCiAgICAgIHJlc2V0RmllbGRzOiByZXNldEZpZWxkcywKICAgICAgbW9kZWxSZWY6IG1vZGVsUmVmLAogICAgICBvblN1Ym1pdDogb25TdWJtaXQKICAgIH07CiAgfQp9KTs="},{"version":3,"sources":["D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\views\\Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n\r\n            <a-layout>\r\n                <div class=\"login-header\">\r\n                <a-layout-header style=\"background: white\"><img :src=\"require('@/assets/login.png')\"/>myblog</a-layout-header>\r\n                </div>\r\n                <a-layout-content style=\"padding: 0px 50px;margin-top: 10px;min-height: 600px\">\r\n                    <div :style=\"{ background: '#fff', padding: '140px', minHeight: '400px' }\">\r\n                        <div style=\"margin: 0 auto;max-width: 400px;background: white\">\r\n                            <a-form :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\r\n                                <a-form-item label=\"用户名\" v-bind=\"validateInfos.username\">\r\n                                    <a-input\r\n                                            v-model:value=\"modelRef.username\"\r\n                                            @blur=\"validate('username', { trigger: 'blur' }).catch(() => {})\"\r\n                                    />\r\n                                </a-form-item>\r\n                                <a-form-item label=\"密码\" v-bind=\"validateInfos.password\">\r\n                                    <a-input-password\r\n                                            v-model:value=\"modelRef.password\" type=\"password\" placeholder=\"请输入密码\"\r\n                                            @blur=\"validate('password', { trigger: 'blur' }).catch(() => {})\"\r\n                                    />\r\n\r\n                                </a-form-item>\r\n                                <a-form-item :wrapper-col=\"{ span: 14, offset: 4 }\">\r\n                                    <a-button type=\"primary\" @click.prevent=\"onSubmit\">登录</a-button>\r\n                                    <a-button style=\"margin-left: 10px\" @click=\"resetFields\">重置</a-button>\r\n                                </a-form-item>\r\n                            </a-form>\r\n                        </div>\r\n                    </div>\r\n                </a-layout-content>\r\n            </a-layout>\r\n\r\n        </div>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    import { defineComponent, reactive, toRaw, getCurrentInstance, onMounted} from 'vue';\r\n    import { Form } from 'ant-design-vue';\r\n    import {message} from 'ant-design-vue'\r\n    const useForm = Form.useForm;\r\n    export default defineComponent({\r\n        name: \"Login\",\r\n        setup(){\r\n            const {ctx, proxy} = getCurrentInstance();\r\n            const modelRef = reactive({\r\n                username: '',\r\n                password: '',\r\n            });\r\n            const rulesRef = reactive({\r\n                username: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入用户名',\r\n                    },\r\n                    {\r\n                        min: 1,\r\n                        max: 10,\r\n                        message: '用户名长度为1到10个字符',\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n                password: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入密码',\r\n                    },\r\n                    {\r\n                        min: 5,\r\n                        max: 16,\r\n                        message: '密码长度为6-16的字符串',\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n            });\r\n            const { resetFields, validate, validateInfos } = useForm(modelRef, rulesRef);\r\n            const onSubmit = () => {\r\n                validate()\r\n                    .then(() => {\r\n                        console.log(toRaw(modelRef));\r\n                        const user = toRaw(modelRef)\r\n                        console.log(user.name)\r\n                        // console.log(axios.defaults.baseURL)\r\n                        proxy.$axios.post('/login', user).then(res => {\r\n                            const user = res.data.data;\r\n                            proxy.$store.commit('set_userinfo', user)\r\n                            proxy.$store.commit('set_token', res.headers['authorization'])\r\n                            // console.log(proxy.$store.getters.getUser)\r\n                            proxy.$router.go(-1)\r\n                        }).catch(error => {\r\n                            message.error(error.message, 2)\r\n                        })\r\n                    })\r\n\r\n                    .catch(err => {\r\n                        console.log('error', err);\r\n                    });\r\n            };\r\n            document.onkeydown = function (e) {\r\n                var keycode = window.event.keyCode;\r\n                if(keycode === 13){\r\n                    onSubmit()\r\n                }\r\n            }\r\n            return {\r\n                labelCol: { span: 4 },\r\n                wrapperCol: { span: 14 },\r\n                validate,\r\n                validateInfos,\r\n                resetFields,\r\n                modelRef,\r\n                onSubmit,\r\n            };\r\n        }\r\n    })\r\n</script>\r\n\r\n<style scoped>\r\n    .login-content{\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        max-width: 90%;\r\n    }\r\n    .login-header{\r\n        box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n        font-size: 20px;\r\n    }\r\n</style>"],"sourceRoot":""}]}