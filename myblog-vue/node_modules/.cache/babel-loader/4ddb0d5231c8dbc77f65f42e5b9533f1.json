{"remainingRequest":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vuetify\\lib\\directives\\touch\\index.mjs","dependencies":[{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vuetify\\lib\\directives\\touch\\index.mjs","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovSWRlYVdvcmtTcGFjZS9zcHJpbmdCb290RGVtbzIvbXlibG9nLXZ1ZTIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8gVHlwZXMKLy8gVXRpbGl0aWVzCmltcG9ydCB7IGtleXMgfSBmcm9tICIuLi8uLi91dGlsL2luZGV4Lm1qcyI7Cgp2YXIgaGFuZGxlR2VzdHVyZSA9IGZ1bmN0aW9uIGhhbmRsZUdlc3R1cmUod3JhcHBlcikgewogIHZhciB0b3VjaHN0YXJ0WCA9IHdyYXBwZXIudG91Y2hzdGFydFgsCiAgICAgIHRvdWNoZW5kWCA9IHdyYXBwZXIudG91Y2hlbmRYLAogICAgICB0b3VjaHN0YXJ0WSA9IHdyYXBwZXIudG91Y2hzdGFydFksCiAgICAgIHRvdWNoZW5kWSA9IHdyYXBwZXIudG91Y2hlbmRZOwogIHZhciBkaXJSYXRpbyA9IDAuNTsKICB2YXIgbWluRGlzdGFuY2UgPSAxNjsKICB3cmFwcGVyLm9mZnNldFggPSB0b3VjaGVuZFggLSB0b3VjaHN0YXJ0WDsKICB3cmFwcGVyLm9mZnNldFkgPSB0b3VjaGVuZFkgLSB0b3VjaHN0YXJ0WTsKCiAgaWYgKE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WSkgPCBkaXJSYXRpbyAqIE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WCkpIHsKICAgIHdyYXBwZXIubGVmdCAmJiB0b3VjaGVuZFggPCB0b3VjaHN0YXJ0WCAtIG1pbkRpc3RhbmNlICYmIHdyYXBwZXIubGVmdCh3cmFwcGVyKTsKICAgIHdyYXBwZXIucmlnaHQgJiYgdG91Y2hlbmRYID4gdG91Y2hzdGFydFggKyBtaW5EaXN0YW5jZSAmJiB3cmFwcGVyLnJpZ2h0KHdyYXBwZXIpOwogIH0KCiAgaWYgKE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WCkgPCBkaXJSYXRpbyAqIE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WSkpIHsKICAgIHdyYXBwZXIudXAgJiYgdG91Y2hlbmRZIDwgdG91Y2hzdGFydFkgLSBtaW5EaXN0YW5jZSAmJiB3cmFwcGVyLnVwKHdyYXBwZXIpOwogICAgd3JhcHBlci5kb3duICYmIHRvdWNoZW5kWSA+IHRvdWNoc3RhcnRZICsgbWluRGlzdGFuY2UgJiYgd3JhcHBlci5kb3duKHdyYXBwZXIpOwogIH0KfTsKCmZ1bmN0aW9uIF90b3VjaHN0YXJ0KGV2ZW50LCB3cmFwcGVyKSB7CiAgdmFyIF93cmFwcGVyJHN0YXJ0OwoKICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTsKICB3cmFwcGVyLnRvdWNoc3RhcnRYID0gdG91Y2guY2xpZW50WDsKICB3cmFwcGVyLnRvdWNoc3RhcnRZID0gdG91Y2guY2xpZW50WTsKICAoX3dyYXBwZXIkc3RhcnQgPSB3cmFwcGVyLnN0YXJ0KSA9PSBudWxsID8gdm9pZCAwIDogX3dyYXBwZXIkc3RhcnQuY2FsbCh3cmFwcGVyLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGV2ZW50KSwgd3JhcHBlcikpOwp9CgpmdW5jdGlvbiBfdG91Y2hlbmQoZXZlbnQsIHdyYXBwZXIpIHsKICB2YXIgX3dyYXBwZXIkZW5kOwoKICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTsKICB3cmFwcGVyLnRvdWNoZW5kWCA9IHRvdWNoLmNsaWVudFg7CiAgd3JhcHBlci50b3VjaGVuZFkgPSB0b3VjaC5jbGllbnRZOwogIChfd3JhcHBlciRlbmQgPSB3cmFwcGVyLmVuZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF93cmFwcGVyJGVuZC5jYWxsKHdyYXBwZXIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZXZlbnQpLCB3cmFwcGVyKSk7CiAgaGFuZGxlR2VzdHVyZSh3cmFwcGVyKTsKfQoKZnVuY3Rpb24gX3RvdWNobW92ZShldmVudCwgd3JhcHBlcikgewogIHZhciBfd3JhcHBlciRtb3ZlOwoKICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTsKICB3cmFwcGVyLnRvdWNobW92ZVggPSB0b3VjaC5jbGllbnRYOwogIHdyYXBwZXIudG91Y2htb3ZlWSA9IHRvdWNoLmNsaWVudFk7CiAgKF93cmFwcGVyJG1vdmUgPSB3cmFwcGVyLm1vdmUpID09IG51bGwgPyB2b2lkIDAgOiBfd3JhcHBlciRtb3ZlLmNhbGwod3JhcHBlciwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBldmVudCksIHdyYXBwZXIpKTsKfQoKZnVuY3Rpb24gY3JlYXRlSGFuZGxlcnMoKSB7CiAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgd3JhcHBlciA9IHsKICAgIHRvdWNoc3RhcnRYOiAwLAogICAgdG91Y2hzdGFydFk6IDAsCiAgICB0b3VjaGVuZFg6IDAsCiAgICB0b3VjaGVuZFk6IDAsCiAgICB0b3VjaG1vdmVYOiAwLAogICAgdG91Y2htb3ZlWTogMCwKICAgIG9mZnNldFg6IDAsCiAgICBvZmZzZXRZOiAwLAogICAgbGVmdDogdmFsdWUubGVmdCwKICAgIHJpZ2h0OiB2YWx1ZS5yaWdodCwKICAgIHVwOiB2YWx1ZS51cCwKICAgIGRvd246IHZhbHVlLmRvd24sCiAgICBzdGFydDogdmFsdWUuc3RhcnQsCiAgICBtb3ZlOiB2YWx1ZS5tb3ZlLAogICAgZW5kOiB2YWx1ZS5lbmQKICB9OwogIHJldHVybiB7CiAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KGUpIHsKICAgICAgcmV0dXJuIF90b3VjaHN0YXJ0KGUsIHdyYXBwZXIpOwogICAgfSwKICAgIHRvdWNoZW5kOiBmdW5jdGlvbiB0b3VjaGVuZChlKSB7CiAgICAgIHJldHVybiBfdG91Y2hlbmQoZSwgd3JhcHBlcik7CiAgICB9LAogICAgdG91Y2htb3ZlOiBmdW5jdGlvbiB0b3VjaG1vdmUoZSkgewogICAgICByZXR1cm4gX3RvdWNobW92ZShlLCB3cmFwcGVyKTsKICAgIH0KICB9Owp9CgpmdW5jdGlvbiBtb3VudGVkKGVsLCBiaW5kaW5nKSB7CiAgdmFyIF92YWx1ZSRvcHRpb25zLCBfYmluZGluZyRpbnN0YW5jZSwgX3RhcmdldCRfdG91Y2hIYW5kbGVyOwoKICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogIHZhciB0YXJnZXQgPSB2YWx1ZSAhPSBudWxsICYmIHZhbHVlLnBhcmVudCA/IGVsLnBhcmVudEVsZW1lbnQgOiBlbDsKICB2YXIgb3B0aW9ucyA9IChfdmFsdWUkb3B0aW9ucyA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5vcHRpb25zKSAhPSBudWxsID8gX3ZhbHVlJG9wdGlvbnMgOiB7CiAgICBwYXNzaXZlOiB0cnVlCiAgfTsKICB2YXIgdWlkID0gKF9iaW5kaW5nJGluc3RhbmNlID0gYmluZGluZy5pbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iaW5kaW5nJGluc3RhbmNlLiQudWlkOyAvLyBUT0RPOiB1c2UgY3VzdG9tIHVpZCBnZW5lcmF0b3IKCiAgaWYgKCF0YXJnZXQgfHwgIXVpZCkgcmV0dXJuOwogIHZhciBoYW5kbGVycyA9IGNyZWF0ZUhhbmRsZXJzKGJpbmRpbmcudmFsdWUpOwogIHRhcmdldC5fdG91Y2hIYW5kbGVycyA9IChfdGFyZ2V0JF90b3VjaEhhbmRsZXIgPSB0YXJnZXQuX3RvdWNoSGFuZGxlcnMpICE9IG51bGwgPyBfdGFyZ2V0JF90b3VjaEhhbmRsZXIgOiBPYmplY3QuY3JlYXRlKG51bGwpOwogIHRhcmdldC5fdG91Y2hIYW5kbGVyc1t1aWRdID0gaGFuZGxlcnM7CiAga2V5cyhoYW5kbGVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7CiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJzW2V2ZW50TmFtZV0sIG9wdGlvbnMpOwogIH0pOwp9CgpmdW5jdGlvbiB1bm1vdW50ZWQoZWwsIGJpbmRpbmcpIHsKICB2YXIgX2JpbmRpbmckdmFsdWUsIF9iaW5kaW5nJGluc3RhbmNlMjsKCiAgdmFyIHRhcmdldCA9IChfYmluZGluZyR2YWx1ZSA9IGJpbmRpbmcudmFsdWUpICE9IG51bGwgJiYgX2JpbmRpbmckdmFsdWUucGFyZW50ID8gZWwucGFyZW50RWxlbWVudCA6IGVsOwogIHZhciB1aWQgPSAoX2JpbmRpbmckaW5zdGFuY2UyID0gYmluZGluZy5pbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iaW5kaW5nJGluc3RhbmNlMi4kLnVpZDsKICBpZiAoISh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQuX3RvdWNoSGFuZGxlcnMpIHx8ICF1aWQpIHJldHVybjsKICB2YXIgaGFuZGxlcnMgPSB0YXJnZXQuX3RvdWNoSGFuZGxlcnNbdWlkXTsKICBrZXlzKGhhbmRsZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcnNbZXZlbnROYW1lXSk7CiAgfSk7CiAgZGVsZXRlIHRhcmdldC5fdG91Y2hIYW5kbGVyc1t1aWRdOwp9CgpleHBvcnQgdmFyIFRvdWNoID0gewogIG1vdW50ZWQ6IG1vdW50ZWQsCiAgdW5tb3VudGVkOiB1bm1vdW50ZWQKfTsKZXhwb3J0IGRlZmF1bHQgVG91Y2g7"},{"version":3,"sources":["../../../src/directives/touch/index.ts"],"names":["keys","handleGesture","wrapper","touchendY","dirRatio","minDistance","touchendX","Math","touchstartX","touchstartY","touch","event","value","touchmoveX","touchmoveY","offsetX","offsetY","left","right","up","down","start","move","end","touchstart","e","touchend","touchmove","binding","target","el","options","passive","uid","handlers","createHandlers","Object","eventName","Touch","mounted","unmounted"],"mappings":"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","sourcesContent":["// Types\nimport type {\n  DirectiveBinding,\n  ObjectDirective,\n} from 'vue'\n\n// Utilities\nimport { keys } from '@/util'\n\nexport interface TouchHandlers {\n  start?: (wrapperEvent: TouchEvent & TouchWrapper) => void\n  end?: (wrapperEvent: TouchEvent & TouchWrapper) => void\n  move?: (wrapperEvent: TouchEvent & TouchWrapper) => void\n  left?: (wrapper: TouchWrapper) => void\n  right?: (wrapper: TouchWrapper) => void\n  up?: (wrapper: TouchWrapper) => void\n  down?: (wrapper: TouchWrapper) => void\n}\n\nexport interface TouchWrapper extends TouchHandlers {\n  touchstartX: number\n  touchstartY: number\n  touchmoveX: number\n  touchmoveY: number\n  touchendX: number\n  touchendY: number\n  offsetX: number\n  offsetY: number\n}\n\nexport interface TouchValue extends TouchHandlers {\n  parent?: boolean\n  options?: AddEventListenerOptions\n}\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\ninterface TouchDirectiveBinding extends Omit<DirectiveBinding, 'value'> {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start?.({ ...event, ...wrapper })\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end?.({ ...event, ...wrapper })\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move?.({ ...event, ...wrapper })\n}\n\nfunction createHandlers (value: TouchHandlers = {}): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const value = binding.value\n  const target = value?.parent ? el.parentElement : el\n  const options = value?.options ?? { passive: true }\n  const uid = binding.instance?.$.uid // TODO: use custom uid generator\n\n  if (!target || !uid) return\n\n  const handlers = createHandlers(binding.value)\n\n  target._touchHandlers = target._touchHandlers ?? Object.create(null)\n  target._touchHandlers![uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName], options)\n  })\n}\n\nfunction unmounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const target = binding.value?.parent ? el.parentElement : el\n  const uid = binding.instance?.$.uid\n\n  if (!target?._touchHandlers || !uid) return\n\n  const handlers = target._touchHandlers[uid]\n\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n\n  delete target._touchHandlers[uid]\n}\n\nexport const Touch: ObjectDirective = {\n  mounted,\n  unmounted,\n}\n\nexport default Touch\n"]}]}