{"remainingRequest":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\thread-loader\\dist\\cjs.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js!D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\permission.js","dependencies":[{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\src\\permission.js","mtime":1626434974298},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IdeaWorkSpace\\springBootDemo2\\myblog-vue2\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi9yb3V0ZXIiOwppbXBvcnQgeyBNb2RhbCB9IGZyb20gImFudC1kZXNpZ24tdnVlIjsKdmFyIGZsYWcgPSBmYWxzZTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZUF1dGg7CiAgfSkpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgdmFyIHVzZXJJbmZvID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKTsKCiAgICBpZiAodG9rZW4gJiYgdXNlckluZm8gIT09IG51bGwpIHsKICAgICAgZmxhZyA9IHRydWU7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfQogIH0gZWxzZSB7CiAgICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicpIHsKICAgICAgbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICBNb2RhbC5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiAn6K+35p+l55yL5L2g5piv5ZCm5L+d5a2Y5YaF5a65JywKICAgICAgICAgIGNvbnRlbnQ6ICfkvaDnoa7lrpropoHot7PovazliLDlhbblroPnvZHpobXvvJ8nLAogICAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KE1hdGgucmFuZG9tKCkgPiAwLjUgPyByZXNvbHZlIDogcmVqZWN0LCAyMDApOwogICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ09vcHMgZXJyb3JzIScpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uCiAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gb25DYW5jZWwoKSB7CiAgICAgICAgICAgIG5leHQoZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfQogIH0KCiAgaWYgKHRvLm1ldGEudGl0bGUpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gJ+S4quS6uuWNmuWuoi0nICsgdG8ubWV0YS50aXRsZTsKICB9IGVsc2UgewogICAgZG9jdW1lbnQudGl0bGUgPSAn5Liq5Lq65Y2a5a6iJzsKICB9Cn0pOw=="},{"version":3,"sources":["D:/IdeaWorkSpace/springBootDemo2/myblog-vue2/src/permission.js"],"names":["router","Modal","flag","beforeEach","to","from","next","matched","some","record","meta","requireAuth","token","localStorage","getItem","userInfo","sessionStorage","path","confirm","title","content","onOk","Promise","resolve","reject","setTimeout","Math","random","catch","console","log","onCancel","document"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,IAAIC,IAAI,GAAG,KAAX;AACAF,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,WAAhB;AAAA,GAAtB,CAAH,EAAsD;AAClD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMC,QAAQ,GAAGC,cAAc,CAACF,OAAf,CAAuB,UAAvB,CAAjB;;AACA,QAAGF,KAAK,IAAIG,QAAQ,KAAK,IAAzB,EAA8B;AAC1Bb,MAAAA,IAAI,GAAG,IAAP;AACAI,MAAAA,IAAI;AACP,KAHD,MAGK;AACDA,MAAAA,IAAI,CAAC;AACDW,QAAAA,IAAI,EAAE;AADL,OAAD,CAAJ;AAGH;AACJ,GAXD,MAWK;AACD,QAAGb,EAAE,CAACa,IAAH,KAAY,QAAf,EAAwB;AACpBX,MAAAA,IAAI;AACP,KAFD,MAEM;AACF,UAAIJ,IAAJ,EAAU;AACND,QAAAA,KAAK,CAACiB,OAAN,CAAc;AACVC,UAAAA,KAAK,EAAE,YADG;AAEVC,UAAAA,OAAO,EAAE,cAFC;AAGVC,UAAAA,IAHU,kBAGH;AACH,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,cAAAA,UAAU,CAACC,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsBJ,OAAtB,GAAgCC,MAAjC,EAAyC,GAAzC,CAAV;AACAtB,cAAAA,IAAI,GAAG,KAAP;AACAI,cAAAA,IAAI;AACP,aAJM,EAIJsB,KAJI,CAIE;AAAA,qBAAMC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAAN;AAAA,aAJF,CAAP;AAKH,WATS;AAWV;AACAC,UAAAA,QAZU,sBAYC;AACPzB,YAAAA,IAAI,CAAC,KAAD,CAAJ;AACH;AAdS,SAAd;AAgBH,OAjBD,MAiBK;AACDA,QAAAA,IAAI;AACP;AACJ;AACJ;;AAED,MAAGF,EAAE,CAACM,IAAH,CAAQS,KAAX,EAAiB;AACba,IAAAA,QAAQ,CAACb,KAAT,GAAiB,UAAUf,EAAE,CAACM,IAAH,CAAQS,KAAnC;AACH,GAFD,MAEK;AACDa,IAAAA,QAAQ,CAACb,KAAT,GAAiB,MAAjB;AACH;AACJ,CA5CD","sourcesContent":["import router from \"./router\";\r\nimport {Modal} from \"ant-design-vue\";\r\nvar flag = false;\r\nrouter.beforeEach((to, from, next) => {\r\n    if(to.matched.some(record => record.meta.requireAuth)){\r\n        const token = localStorage.getItem(\"token\");\r\n        const userInfo = sessionStorage.getItem('userInfo')\r\n        if(token && userInfo !== null){\r\n            flag = true\r\n            next()\r\n        }else{\r\n            next({\r\n                path: '/login'\r\n            })\r\n        }\r\n    }else{\r\n        if(to.path === '/login'){\r\n            next()\r\n        }else {\r\n            if (flag) {\r\n                Modal.confirm({\r\n                    title: '请查看你是否保存内容',\r\n                    content: '你确定要跳转到其它网页？',\r\n                    onOk() {\r\n                        return new Promise((resolve, reject) => {\r\n                            setTimeout(Math.random() > 0.5 ? resolve : reject, 200);\r\n                            flag = false\r\n                            next()\r\n                        }).catch(() => console.log('Oops errors!'));\r\n                    },\r\n\r\n                    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n                    onCancel() {\r\n                        next(false)\r\n                    },\r\n                });\r\n            }else{\r\n                next()\r\n            }\r\n        }\r\n    }\r\n\r\n    if(to.meta.title){\r\n        document.title = '个人博客-' + to.meta.title\r\n    }else{\r\n        document.title = '个人博客'\r\n    }\r\n})"]}]}